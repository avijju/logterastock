<link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">   
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap5.min.css">   
<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/select/1.2.5/js/dataTables.select.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://editor.datatables.net/extensions/Editor/js/dataTables.editor.min.js"></script>

<table id="myTable" class="table table-striped" style="width:100%" >
            <thead>
              <tr>
            <th>Symbol</th>
            <th>Caluclated Avarage</th>
            <!-- <th>Today's Accumulated  Volume</th> -->
            <th>volume weighted average price</th>
            <th>First AV</th>
            <th>Last AV</th>
            <!-- <th>odate</th>
            <th>ldate</th> -->
            <!-- <th>Time</th>                                    -->
          </tr>
        </thead> 
          </table> 
         
<script>
$(document).ready(function() {
    $('#myTable').DataTable( {
       
       "ajax": {  "url":"http://34.132.27.77/Polygon/api/StockData/agreegateAsync",
      
       "dataSrc": "",
   },
   "order": [[ 4, "desc" ]],
       // add column definitions to map your json to the table                                           
       "columns": [
           {data: "sym"},
           {data: "calval"},
        //    {data: "av"},
           {data: "a"},
           {data: "first"},
           {data: "17833"},
        //    {data: "odate"},
        //    {data: "ldate"},
        //    {data:"saveddate"}
          
       ]
   
   } );
    setInterval(function(){
        $('#myTable').DataTable().clear().destroy();
    $('#myTable').DataTable( {
       
        "ajax": {  "url":"http://34.132.27.77/Polygon/api/StockData/agreegateAsync",
       
        "dataSrc": "",
    },
    "order": [[ 4, "desc" ]],
        // add column definitions to map your json to the table                                           
        "columns": [
        {data: "sym"},
           {data: "calval"},
        //    {data: "av"},
           {data: "a"},
           {data: "first"},
           {data: "17833"},
        //    {data:"saveddate"}
          
       ]
    
    } );
},60000);
});
</script>